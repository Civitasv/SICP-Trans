# Building Abstractions with Procedures

> 心灵，从三个方面对知识施加影响：
>
> 1. 组合，对简单的知识进行组合，从而产生复杂的；
> 2. 对比，将简单或复杂的知识进行对比，从而产生关系的；
> 3. 抽象，将知识从现实中与其相关的其它知识分离，从而产生一般的。
>
> John Locke, An Essay Concerning Human Understanding (1690)

我们将要学习计算过程。计算过程是栖息在计算机中的抽象存在，随着它们的演化，其可以操纵称为数据的抽象事物。而具有一定规则的程序能够指引过程的演化，因此编程者创建程序来描述过程，实际上，我们就是使用这种“咒语”来召唤计算机中的灵魂。

计算过程，同巫师对于灵魂的看法极为相像，不可视，不可触，没有形体。但是，它却很是真实，它可以思考，可以回答问题，可以通过如付钱，控制工厂中的机械臂等影响世界。我们用来召唤过程的程序如同巫师的咒语，咒语的组合产生了魔法，晦涩难懂的编程语言中的符号表达式的组合就描述了我们想要执行的任务。

计算过程，在工作正常的计算机中，可以准确的执行程序。因此，新手程序员就像魔法师的学徒一样，必须学会理解和预测召唤的结果，即使是程序中的小错误(常称为 bugs 或故障)也可能会产生复杂且无法预料的后果。

幸运的是，计算机中的灵魂很容易控制，因此学习编程比学习巫术要安全许多。但是，现实世界的编程任务需要细心、专业和智慧，例如计算机辅助程序中的小错误甚至可能会导致飞机的毁灭、大坝的倒塌或工业机器人的自毁。

高级软件工程师具备组织程序的能力，能够确定程序生成的过程将执行预期的任务。他们可以确定系统的行为，他们知晓如何构建程序，即使出现意料之外的问题，也不会导致灾难性后果，当问题出现时，他们也能调试程序。设计良好的计算机系统，如同设计良好的汽车或核反应堆，需要进行模块化处理，以使每个部分可以单独构建、更替和调试。

## 在 Lisp 中编程

我们需要一门合适的语言描述计算过程，为此我们将使用编程语言 Lisp。正如使用自然语言(如英语、法语或日语)对日常所思所想进行表达，使用数学符号对定量现象进行描述，我们使用 Lisp 表达计算过程。Lisp 作为计算模型，发明于 1950 年代后期，主要用于分析推理递归逻辑表达式。该语言由 John McCarthy 构思，并基于其论文 _Recursive Functions of Symbolic Expressions and Their Computation by Machine_ 进行了实现。

尽管 Lisp 最初表达为数学形式，但它仍是一种实用的编程语言。Lisp 解释器用于解释执行 Lisp 语言描述的过程。第一个 Lisp 解释器是由 McCarthy 在麻省理工学院电子研究实验室和麻省理工学院计算中心人工智能小组的同事和学生的帮助下实现的。Lisp 是 LISt Processing 的首字母缩写，被设计用来提供符号操作功能，用于攻克微分和积分等复杂问题。为此，Lisp 提供了 atom 和 list 数据结构，这也是其与同时代其他语言最显著的区别。

Lisp 并不是一种传统的协同设计语言，相反，为迅速响应用户的需求，其以实验性的、非正式的方式发展。这种非正式的发展持续了多年，Lisp 社区成员也一如既往的拒绝颁布任何关于该语言的“官方”定义。这种发展模式，加上最初构想的灵活性和优雅性，使得 Lisp 成为当今时代被广泛使用的第二大古老语言（次于 Fortran），并且不断适应并包含最现代的程序设计理念。目前 Lisp 是一个方言集，尽管他们之间共享大部分的原始特性，但在某些方面却各有不同，这本书使用的 Lisp 方言为 Scheme。

正因为 Lisp 的实验性和注重于符号计算，与 Fortran 对比，最初在数值运算方面效率很低。然而，数年后，开发出的 Lisp 编译器已经可以将程序编译为机器码，使得 Lisp 在数值运算方面效率得到了很大的提升。在某些特殊的应用程序中，使用 Lisp 效率也很高。尽管 Lisp 还没有摆脱其效率低下的名声，但已经被大量用于很多效率并不那么重要的软件之中。例如，Lisp 已经成为操作系统 shell 语言以及编辑器和计算机辅助设计系统的扩展语言的可选语言。

既然 Lisp 并不是主流语言，那么为什么我们要使用其作为我们讨论程序设计的语言呢？因为该语言所具有的特性使得其成为研究重要的程序设计和数据结构，以及将它们与支持它们的语言特性相连接的绝佳媒介。其中最重要的特性是：过程的 Lisp 描述本身可以表示为 Lisp 数据并对其进行操作。重要之处在于：一些强大的程序设计技术很大程度上依赖于这种模糊传统语言中“被动”数据和“主动”过程的能力。我们后续会发现，Lisp 这种将过程（procedure）当作数据操作的灵活性为我们探究这些技术提供了极大的便利。将过程表示为数据的能力也使 Lisp 成为编写必须将其他程序作为数据操作的优秀语言，如支持计算机语言的解释器和编译器。除了以上考虑之外，用 Lisp 编程还非常的有趣！
